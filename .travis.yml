language: node_js
node_js:
  - "10"

cache: npm

script: npm run build

after_script:
  - cd ./dist
  - git init
  - git add -A
  - git commit -m "deploy"
  - git push -f git@github.com:<USERNAME>/<REPO>.git master:gh-pages
  - cd -

deploy:
provider: pages
skip_cleanup: true
github_token: $GITHUB_TOKEN
local_dir: dist
target-branch: gh-pages
on:
  branch: master
